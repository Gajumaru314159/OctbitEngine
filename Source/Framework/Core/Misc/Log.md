# Log
## ログ
OctbitEngineでは以下のログマクロが使用可能です。

|名前|説明|
|-|-|
|LOG_FATAL|致命的なエラーが発生し、プログラムが継続できないことを示します。例えば不正なメモリアクセスやデバイスのクラッシュが発生した場合などが考えられます。このログが呼ばれた場合はアプリケーションはクラッシュします。|
|LOG_ERROR|エラーが発生し、プログラムが正常な状態ではないことを示します。例えばオブジェクトの生成の失敗や存在しないファイルにアクセスした場合などが考えられます。子のログが出力された場合は早急な修正が必要です。|
|LOG_WARNING|エラーではないが、予期しない動作が発生したことを示します。例えば、シーンの読み込み時間が長い場合やパフォーマンス上問題のある呼び出しがあった場合などが考えられます。このログは早急に修正する必要はありませんが、長期的には修正すべきです。|
|LOG_INFO|一般的な情報を示します。このログは、システムの正常な動作を確認するための情報を提供することが期待されます。例えば、システムの初期化完了時にログを出力することが考えられます。|
|LOG_TRACE|デバッグ用途で、詳細な情報を示します。例えば、関数の呼び出し確認や、一次的な値の確認として使用します。。|

ログマクロから出力されたログはLoggerクラスに送信されます。Loggerクラスにログ購読イベントを登録することでテキストファイルとして出力したり、コンソールへ出力することができます。

### ログの出力頻度
ログを毎フレーム出力してしまうとログファイルの肥大化や重要なエラーログを見落としてしまうことにつながります。update関数内でログを使用する場合は以下の時効に注意して使用してください。
* 非同期処理が完了していないことを表すためにログを出力しない
  * 非同期処理はupdate内で処理せず適切なコールバックを使用する
* 無効なハンドルへのアクセスを警告するログを出さない
  * emptyチェックをしてエラーとして扱わないか初期化時のみエラーログを出す

## Assert
プログラムの前提条件を表します。前提条件を満たしていない場合はFatalログを出力しプログラムをクラッシュさせます。
```c++
OB_ASSERT(entity!=nullptr,"entityがnullptrです。");
```
Assertマクロは公開関数の入力をチェックするものではなく内部ロジックが不正ではないことを確認するために使用してください。関数の入力が不正な場合はできるだけエラーログを出力するにとどめて適切な例外処理を行ってください。