//***********************************************************
//! @file
//! @brief		レンダーターゲット・インターフェイス
//! @author		Gajumaru
//***********************************************************
#pragma once
#include <Framework/Graphic/Interface/GraphicObject.h>
#include <Framework/Graphic/Types/RenderTargetDesc.h>

//===============================================================
// 前方宣言
//===============================================================
namespace ob::graphic {
    class Texture;
}


//===============================================================
// クラス宣言
//===============================================================
namespace ob::graphic {

    //@―---------------------------------------------------------------------------
    //! @brief      レンダーパス・インターフェイス
    //@―---------------------------------------------------------------------------
    class IRenderTarget :public GraphicObject {
    public:

        //@―---------------------------------------------------------------------------
        //! @brief  妥当な状態か
        //@―---------------------------------------------------------------------------
        virtual bool isValid()const = 0;


        //@―---------------------------------------------------------------------------
        //! @brief      定義を取得
        //@―---------------------------------------------------------------------------
        virtual const RenderTargetDesc& getDesc()const = 0;


        //@―---------------------------------------------------------------------------
        //! @brief      カラー・テクスチャを取得
        //! 
        //! @param index    マルチレンダーターゲットのインデックス
        //@―---------------------------------------------------------------------------
        virtual Texture getColorTexture(s32 index = 0)const = 0;


        //@―---------------------------------------------------------------------------
        //! @brief      デプス・テクスチャを取得
        //@―---------------------------------------------------------------------------
        virtual Texture getDepthTexture()const = 0;


        //@―---------------------------------------------------------------------------
        //! @brief      描画ターゲット枚数を取得
        //! 
        //! @details    デプス・ステンシルテクスチャは含まれません。
        //@―---------------------------------------------------------------------------
        virtual s32 getColorTextureCount()const = 0;

    protected:

        virtual ~IRenderTarget() = default;

    };

}// namespace pb::graphic