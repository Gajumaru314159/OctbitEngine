//***********************************************************
//! @file
//! @brief		ファイル説明
//! @author		Gajumaru
//***********************************************************
#pragma once
#ifdef OS_WINDOWS
#include "../IModuleLoader.h"
#include <Windows.h>

namespace ob {
    namespace platform {

        //@―---------------------------------------------------------------------------
        //! @brief  説明
        //@―---------------------------------------------------------------------------
        class ModuleLoader:public IModuleLoader{
        public:

            //===============================================================
            // コンストラクタ / デストラクタ
            //===============================================================

            //@―---------------------------------------------------------------------------
            //! @brief  コンストラクタ
            //@―---------------------------------------------------------------------------
            ModuleLoader(const String& filePath);

            ~ModuleLoader();


            //@―---------------------------------------------------------------------------
            //! @brief  モジュールの取得
            //@―---------------------------------------------------------------------------
            IModule* GetInterface()override {
                return m_interface.get();
            }

        private:

            HMODULE m_handle;
            unique_ptr<IModule> m_interface;

        };






        //===============================================================
        // インライン関数
        //===============================================================
        //! @cond



        //! @endcond
    }// namespace platform
}// namespcae ob
#endif// OS_WINDOWS